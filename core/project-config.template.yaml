# Living Documentation Framework - Project Configuration Template
# Copy this file to your project root as 'living-doc-config.yaml'

# =============================================================================
# PROJECT BASICS
# =============================================================================
project:
  name: "MyProject"  # Your project name
  language: "python"  # python, javascript, go, rust, csharp
  main_branch: "main"  # or "master"

# =============================================================================
# VERSION DETECTION
# =============================================================================
version:
  file: "__init__.py"
  pattern: '__version__\s*=\s*"([0-9.]+)"'

  # Examples for other languages:
  # JavaScript: "package.json" with pattern '"version":\s*"([0-9.]+)"'
  # Go: "version.go" with pattern 'const Version = "([0-9.]+)"'
  # Rust: "Cargo.toml" with pattern 'version\s*=\s*"([0-9.]+)"'
  # C#: "Config.cs" with pattern 'public const string VERSION = "([0-9.]+)"'

# =============================================================================
# CODE STRUCTURE
# =============================================================================
code:
  root: "src/"
  extensions: ["py"]
  exclude:
    - "__pycache__/**"
    - "venv/**"
    - "node_modules/**"
    - "build/**"
    - "dist/**"

# =============================================================================
# TESTS
# =============================================================================
tests:
  pattern: "**/test_*.py"
  extensions: ["py"]
  frameworks:
    - pytest

# =============================================================================
# SUBSYSTEMS
# =============================================================================
subsystems:
  - name: "api"
    description: "REST API endpoints"
    file_patterns:
      - "**/api/**"
      - "**/views.py"
    docs:
      - "API_ARCHITECTURE.md"
    tier_default: "B"

  - name: "database"
    description: "Database models"
    file_patterns:
      - "**/db/**"
      - "**/models/**"
    docs:
      - "DATABASE_ARCHITECTURE.md"
    tier_default: "A"

# =============================================================================
# TIERING
# =============================================================================
tiering:
  tier_a:
    patterns:
      - "**/config.py"
      - "**/settings.py"
    keywords:
      - "# CRITICAL"
      - "# SECURITY"
    min_references: 10

  tier_b:
    patterns:
      - "**/api/**/*.py"
      - "**/services/**/*.py"
    min_references: 5

# =============================================================================
# DOCUMENTATION REQUIREMENTS
# =============================================================================
documentation:
  tier_a_citation_required: true
  changelog_required: true
  staleness_threshold: "7d"
  auto_map_new_files: true

# =============================================================================
# GIT HOOKS
# =============================================================================
hooks:
  pre_commit:
    - check: "tier_a_citation"
      enabled: true
      blocking: true

    - check: "changelog_updated"
      enabled: true
      blocking: true

    - check: "blast_radius"
      enabled: true
      blocking: false
      threshold: 5

# =============================================================================
# AGENT PROTOCOL
# =============================================================================
agents:
  required_reading:
    - "CODE_DOC_MAP.md"
    - "INVARIANTS.md"
    - "AGENT_PROTOCOL.md"

  required_updates:
    on_bug_fix:
      - "BUG_PATTERNS.md"
      - "CHANGELOG.md"

    on_new_feature:
      - "GOLDEN_PATHS.md"
      - "CHANGELOG.md"
      - "CODE_DOC_MAP.md"

    on_tier_a_edit:
      - "INVARIANTS.md"
